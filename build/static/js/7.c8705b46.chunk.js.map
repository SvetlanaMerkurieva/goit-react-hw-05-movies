{"version":3,"sources":["components/Reviews/Reviews.jsx","components/Reviews/Reviews.module.css"],"names":["Reviews","movieId","useParams","useState","reviews","setReviews","error","setError","useEffect","fetch","then","res","ok","json","Promise","reject","Error","results","catch","e","className","s","div","message","map","review","author","content","id","module","exports"],"mappings":"0OAIaA,EAAU,WACrB,IAAQC,EAAYC,cAAZD,QAER,EAA8BE,mBAAS,MAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAkBA,OAhBAC,qBAAU,WACRC,MAAM,sCAAD,OACmCR,EADnC,qEAGFS,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAJ,yKAEvBN,MAAK,SAAAN,GACJC,EAAWD,EAAQa,YAEpBC,OAAM,SAAAC,GAAC,OAAIZ,EAASY,QACtB,CAAClB,IAGF,sBAAKmB,UAAWC,IAAEC,IAAlB,UACGhB,GAAS,6BAAKA,EAAMiB,UACpBnB,GACC,kCACGA,EAAQoB,KAAI,SAAAC,GAAM,OACjB,gCACE,0CAAaA,EAAOC,UACpB,4BAAID,EAAOE,YAFHF,EAAOG,c,mBC/B7BC,EAAOC,QAAU,CAAC,IAAM","file":"static/js/7.c8705b46.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport s from './Reviews.module.css';\r\n\r\nexport const Reviews = () => {\r\n  const { movieId } = useParams();\r\n\r\n  const [reviews, setReviews] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US`,\r\n    )\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(new Error(`К сожалению, обзоров фильма нет`));\r\n      })\r\n      .then(reviews => {\r\n        setReviews(reviews.results);\r\n      })\r\n      .catch(e => setError(e));\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <div className={s.div}>\r\n      {error && <h1>{error.message}</h1>}\r\n      {reviews && (\r\n        <section>\r\n          {reviews.map(review => (\r\n            <div key={review.id}>\r\n              <h3>Author: {review.author}</h3>\r\n              <p>{review.content}</p>\r\n            </div>\r\n          ))}\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Reviews_div__1IKA_\"};"],"sourceRoot":""}