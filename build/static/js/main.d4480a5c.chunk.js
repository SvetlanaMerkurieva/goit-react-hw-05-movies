(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{10:function(e,t,c){e.exports={button:"MovieDetailsPage_button__11j9E",section:"MovieDetailsPage_section__3-AfG",image:"MovieDetailsPage_image__AuCQM",description:"MovieDetailsPage_description__KNb4S",title:"MovieDetailsPage_title__3ZP87",addInfo:"MovieDetailsPage_addInfo__1DJbV"}},11:function(e,t,c){e.exports={form:"MoviesPage_form__3zqtq",input:"MoviesPage_input__18c9W",button:"MoviesPage_button__19msP"}},12:function(e,t,c){e.exports={app:"App_app__1ue4b",nav:"App_nav__1DbvJ",link:"App_link__2cvmS",activeLink:"App_activeLink__2b0bw"}},14:function(e,t,c){e.exports={div:"Cast_div__3TPNa",actors:"Cast_actors__3bTCF",item:"Cast_item__3zBM0",image:"Cast_image__13KPr"}},18:function(e,t,c){e.exports={movies:"HomePage_movies__QfIbF",link:"HomePage_link__l46iN"}},21:function(e,t,c){e.exports={div:"Reviews_div__1IKA_",text:"Reviews_text__28hav"}},47:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(23),i=c.n(s),r=c(5),o=c(2),j=c(4),l=c(24),u=c.n(l),h=c(18),b=c.n(h),d=c(0),m=function(){var e=Object(o.g)();console.log(e);var t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(null),l=Object(j.a)(i,2),h=l[0],m=l[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=597522cf6881ad12863cfcef806a7c6d&page=1&per_page=20").then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0435\u0442"))})).then((function(e){return s(e)})).catch((function(e){return m(e)}))}),[]),Object(d.jsxs)("section",{className:b.a.movies,children:[Object(d.jsx)("h1",{children:"Trending today"}),Object(d.jsxs)("div",{children:[h&&Object(d.jsx)("h1",{children:h.message}),a&&Object(d.jsx)("ul",{children:a.results.map((function(t){return Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{className:b.a.link,to:{pathname:"/movies/".concat(t.id),state:{from:e}},children:t.title})},u()())}))})]})]})},O=c(22),f=c(11),v=c.n(f),p=function(){var e=Object(o.g)(),t=Object(o.f)(),c=Object(n.useState)(""),a=Object(j.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(null),u=Object(j.a)(l,2),h=u[0],b=u[1],m=Object(n.useState)(null),f=Object(j.a)(m,2),p=f[0],x=f[1],_=new URLSearchParams(e.search).get("query");Object(n.useEffect)((function(){_&&fetch("https://api.themoviedb.org/3/search/movie?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US&query=".concat(_,"&page=1&include_adult=false")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0435\u0442"))})).then((function(e){return b(e.results)})).catch((function(e){return x(e)}))}),[_]);return console.log(e),console.log(h),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:v.a.form,children:[Object(d.jsx)("input",{className:v.a.input,type:"text",value:s,onChange:function(e){i(e.target.value)},placeholder:"Enter a word to search for movies"}),Object(d.jsx)("button",{type:"button",onClick:function(){fetch("https://api.themoviedb.org/3/search/movie?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US&query=".concat(s,"&page=1&include_adult=false")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0435\u0442"))})).then((function(e){return b(e.results)})).catch((function(e){return x(e)})),t.push(Object(O.a)(Object(O.a)({},e),{},{search:"query=".concat(s)})),i("")},className:v.a.button,children:"Search"})]}),Object(d.jsxs)("section",{className:v.a.movies,children:[p&&Object(d.jsx)("h1",{children:p.message}),h&&Object(d.jsx)("ul",{children:h.map((function(t){return Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{className:v.a.link,to:{pathname:"/movies/".concat(t.id),state:{from:e}},children:t.title})},t.id)}))})]})]})},x=c(14),_=c.n(x),g=function(){var e=Object(o.h)().movieId,t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(null),r=Object(j.a)(i,2),l=r[0],u=r[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430 \u043d\u0435\u0442"))})).then((function(e){return s(e.cast)})).catch((function(e){return u(e)}))}),[e]),console.log(a),Object(d.jsxs)("div",{className:_.a.div,children:[l&&Object(d.jsx)("h1",{children:l.message}),a&&Object(d.jsx)("section",{className:_.a.actors,children:a.map((function(e){return Object(d.jsxs)("div",{className:_.a.item,children:[Object(d.jsx)("img",{className:_.a.image,src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:e.name}),Object(d.jsx)("h3",{children:e.original_name}),Object(d.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})]})},k=c(21),N=c.n(k),w=function(){var e=Object(o.h)().movieId,t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(null),r=Object(j.a)(i,2),l=r[0],u=r[1],h=Object(n.useState)(null),b=Object(j.a)(h,2),m=b[0],O=b[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043e\u0431\u0437\u043e\u0440\u043e\u0432 \u0444\u0438\u043b\u044c\u043c\u0430 \u043d\u0435\u0442"))})).then((function(e){s(e.results),u(e.results.length)})).catch((function(e){return O(e)}))}),[e,l]),0===l?Object(d.jsx)("h3",{className:N.a.text,children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043e \u0444\u0438\u043b\u044c\u043c\u0435 \u043d\u0435\u0442"}):Object(d.jsxs)("div",{className:N.a.div,children:[m&&Object(d.jsx)("h1",{children:m.message}),a&&Object(d.jsx)("section",{children:a.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{children:["Author: ",e.author]}),Object(d.jsx)("p",{children:e.content})]},e.id)}))})]})},S=c(10),P=c.n(S),y=function(){var e=Object(o.h)().movieId,t=Object(o.i)().url,c=Object(o.f)(),a=Object(o.g)();console.log(a);var s=Object(n.useState)(null),i=Object(j.a)(s,2),l=i[0],u=i[1],h=Object(n.useState)(null),b=Object(j.a)(h,2),m=b[0],O=b[1];Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430 \u043d\u0435\u0442"))})).then((function(e){return u(e)})).catch((function(e){return O(e)}))}),[e]);return console.log(l),Object(d.jsxs)("div",{children:[m&&Object(d.jsx)("h1",{children:m.message}),Object(d.jsx)("button",{type:"button",onClick:function(){var e,t;c.push(null!==(e=null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},className:P.a.button,children:"Go back"}),l&&Object(d.jsxs)("section",{className:P.a.section,children:[Object(d.jsx)("img",{className:P.a.image,src:"https://image.tmdb.org/t/p/w500".concat(l.poster_path),alt:l.title}),Object(d.jsxs)("div",{className:P.a.description,children:[Object(d.jsxs)("h1",{className:P.a.title,children:[l.title," (",l.release_date.substr(0,4),")"]}),Object(d.jsxs)("p",{children:["User Score: ",l.vote_average]}),Object(d.jsx)("h2",{children:"Overview"}),Object(d.jsx)("p",{children:l.overview}),Object(d.jsx)("h3",{children:"Genres"}),Object(d.jsx)("ul",{children:l.genres.map((function(e){return Object(d.jsx)("li",{children:e.name},e.id)}))})]})]}),Object(d.jsxs)("div",{className:P.a.addInfo,children:[Object(d.jsx)("h3",{children:"Additional information"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:{pathname:"".concat(t,"/cast"),state:{from:a}},children:"Cast"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:{pathname:"".concat(t,"/reviews"),state:{from:a}},children:"Reviews"})})]})]}),Object(d.jsx)(o.a,{path:"/movies/:movieId/cast",children:Object(d.jsx)(g,{})}),Object(d.jsx)(o.a,{path:"/movies/:movieId/reviews",children:Object(d.jsx)(w,{})})]})},E=c(12),C=c.n(E);function M(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("nav",{className:C.a.nav,children:[Object(d.jsx)(r.c,{exact:!0,to:"/",className:C.a.link,activeClassName:C.a.activeLink,children:"Home"}),Object(d.jsx)(r.c,{to:"/movies",className:C.a.link,activeClassName:C.a.activeLink,children:"Movies"})]}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",children:Object(d.jsx)(m,{})}),Object(d.jsx)(o.a,{exact:!0,path:"/movies",children:Object(d.jsx)(p,{})}),Object(d.jsx)(o.a,{path:"/movies/:movieId",children:Object(d.jsx)(y,{})}),Object(d.jsx)(o.a,{children:Object(d.jsx)(m,{})})]})]})}c(47);i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(r.a,{children:Object(d.jsx)(M,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.d4480a5c.chunk.js.map