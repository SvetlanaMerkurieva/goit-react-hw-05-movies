{"version":3,"sources":["components/Reviews/Reviews.jsx","components/Reviews/Reviews.module.css"],"names":["Reviews","movieId","useParams","useState","reviews","setReviews","reviewsLength","setReviewsLength","error","setError","useEffect","fetch","then","res","ok","json","Promise","reject","Error","results","length","catch","e","className","s","text","div","message","map","review","author","content","id","module","exports"],"mappings":"kMAgDeA,UA5CC,WACd,IAAQC,EAAYC,cAAZD,QAER,EAA8BE,mBAAS,MAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0CF,mBAAS,MAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA0BJ,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAmBA,OAjBAC,qBAAU,WACRC,MAAM,sCAAD,OACmCV,EADnC,qEAGFW,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAJ,yKAEvBN,MAAK,SAAAR,GACJC,EAAWD,EAAQe,SACnBZ,EAAiBH,EAAQe,QAAQC,WAElCC,OAAM,SAAAC,GAAC,OAAIb,EAASa,QACtB,CAACrB,EAASK,IAES,IAAlBA,EACK,oBAAIiB,UAAWC,IAAEC,KAAjB,sLAGP,sBAAKF,UAAWC,IAAEE,IAAlB,UACGlB,GAAS,6BAAKA,EAAMmB,UACpBvB,GACC,kCACGA,EAAQwB,KAAI,SAAAC,GAAM,OACjB,gCACE,0CAAaA,EAAOC,UACpB,4BAAID,EAAOE,YAFHF,EAAOG,c,mBCpC7BC,EAAOC,QAAU,CAAC,IAAM,qBAAqB,KAAO","file":"static/js/7.4f008830.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport s from './Reviews.module.css';\r\n\r\nconst Reviews = () => {\r\n  const { movieId } = useParams();\r\n\r\n  const [reviews, setReviews] = useState(null);\r\n  const [reviewsLength, setReviewsLength] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=597522cf6881ad12863cfcef806a7c6d&language=en-US`,\r\n    )\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(new Error(`К сожалению, обзоров фильма нет`));\r\n      })\r\n      .then(reviews => {\r\n        setReviews(reviews.results);\r\n        setReviewsLength(reviews.results.length);\r\n      })\r\n      .catch(e => setError(e));\r\n  }, [movieId, reviewsLength]);\r\n\r\n  if (reviewsLength === 0) {\r\n    return <h3 className={s.text}>К сожалению, отзывов о фильме нет</h3>;\r\n  }\r\n  return (\r\n    <div className={s.div}>\r\n      {error && <h1>{error.message}</h1>}\r\n      {reviews && (\r\n        <section>\r\n          {reviews.map(review => (\r\n            <div key={review.id}>\r\n              <h3>Author: {review.author}</h3>\r\n              <p>{review.content}</p>\r\n            </div>\r\n          ))}\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Reviews_div__1IKA_\",\"text\":\"Reviews_text__28hav\"};"],"sourceRoot":""}